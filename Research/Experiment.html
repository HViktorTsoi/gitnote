<p>仅使用前视投影 得到的效果更好？可能是网络的规模不够大</p><p>尝试仅使用前视投影+sn</p><p><br></p><attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-07e7a19c-fbc1-4ef5-be14-9a868aa8ff34"></attachment><p>删除前视投影 仅保留pc分支：</p><p>loss非常不稳定 生成图像效果差</p><p><br></p><p>将pc分支的浅层特征经过down和res分支</p><p>另外将pc特征加入到discriminator中 或者从discriminator中取消投影输入</p><p><br></p><p>SN: spectral norm</p><p><br></p><p>在discriminator中删除conditional输入之后， feature matching loss和vgg loss的初始值变得非常高，这可能是因为没有conditional输入之后，discriminator在开始接受到的输入就完全是混乱的初始生成图像 没有与真实图像的feature比较类似的条件输入；但是loss下降的趋势还比较稳定(即没有造成训练过程的不稳定)，后期也下降到和有conditional输入的discriminator一样的情况了</p><p><br></p><p>最终的测试结果没有加入conditional输入好</p><p><br></p><p>目前来看Generator输入的上采样图像的作用比较大</p><p><br></p><p>静止场景：</p><p>0016 0017 0019（步行街场景 行人多 光照复杂）</p><p><br></p><p>尝试noVGG 效果很差</p><p><br></p><p>尝试pixel shuffle 解决棋盘格效应</p><p><br></p><p>object sensitive loss</p><p><br></p><p>尝试对gamma进行随机增强，生成的图像亮度更高，在50轮的时候视觉效果更好一些，但是没有最开始的点云分支好</p><p><br></p><p>尝试加入pointnet2的head， 收敛速度变慢， 训练集有一些图像效果还可以，对训练集拟合效果不错</p><p><br></p><p>激光雷达+图像 去阴影</p><p><br></p><p>和相机重建出来的对比</p><p><br></p><p>将测试集换为tracking与object的差集 效果不错</p><p><br></p><p>尝试在resblock前加入pc特征 效果比resblock前加入的细节和边缘要好</p><p><br></p><p>对点云的intensity进行归一化</p><p><br></p><p>在Discriminator中取消SN后面的BN之后 Gan的Feature matching loss的量级下降了很大 从[7,12]下降到了[1, 2]， 这可能是因为SN实现了<span style="color: rgb(26, 26, 26);">Lipschitz连续条件 但是只使用SN时拟合效果非常差</span></p><p><br></p><p><span style="color: rgb(26, 26, 26);">无法复现之前pix2pix的效果了 目前的改动：Gamma：无效 flip：无效 batchsize 有一些效果，现在感觉可能是数据集的问题</span></p><p><br></p><p>尝试直接用前视投影的点云提特征？</p><p><br></p><p>加入膨胀卷积之后效果很好</p><p><br></p><p>远处的弱化 从loss上考虑</p><p><br></p><p><br></p><p>LiCAM segmentation 实验</p><p>Accumulating evaluation results...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;3.8G&nbsp;&nbsp;34G&nbsp;10% /run</p><p>DONE (t=0.06s).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;439G&nbsp;393G&nbsp;&nbsp;24G&nbsp;95% /</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=100 ] = 0.590&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;189G&nbsp;736M&nbsp;188G&nbsp;&nbsp;1% /dev/shm</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50&nbsp;&nbsp;&nbsp;| area=&nbsp;&nbsp;all | maxDets=100 ] = 0.882&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.0M&nbsp;&nbsp;&nbsp;0&nbsp;5.0M&nbsp;&nbsp;0% /run/lock</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.75&nbsp;&nbsp;&nbsp;| area=&nbsp;&nbsp;all | maxDets=100 ] = 0.646&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;189G&nbsp;&nbsp;&nbsp;0&nbsp;189G&nbsp;&nbsp;0% /sys/fs/cgroup</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.402&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;511M&nbsp;3.7M&nbsp;508M&nbsp;&nbsp;1% /boot/efi</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.689&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;28K&nbsp;&nbsp;38G&nbsp;&nbsp;1% /run/user/108</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.866&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;22G&nbsp;&nbsp;16G&nbsp;58% /run/user/1000</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=&nbsp;1 ] = 0.180&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;38G&nbsp;&nbsp;0% /run/user/1001</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets= 10 ] = 0.613&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS sudo kill 3771</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=100 ] = 0.625&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│[sudo] password for bdbc201:&nbsp;</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.453&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS&nbsp;</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.715&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS du -sh</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.907&nbsp;&nbsp;&nbsp;&nbsp;</p><p><br></p><p><br></p><p>LiCAM 测真实图像</p><p>DONE (t=0.20s).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;439G&nbsp;393G&nbsp;&nbsp;24G&nbsp;95% /</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=100 ] = 0.613&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;189G&nbsp;736M&nbsp;188G&nbsp;&nbsp;1% /dev/shm</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50&nbsp;&nbsp;&nbsp;| area=&nbsp;&nbsp;all | maxDets=100 ] = 0.885&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.0M&nbsp;&nbsp;&nbsp;0&nbsp;5.0M&nbsp;&nbsp;0% /run/lock</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.75&nbsp;&nbsp;&nbsp;| area=&nbsp;&nbsp;all | maxDets=100 ] = 0.689&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;189G&nbsp;&nbsp;&nbsp;0&nbsp;189G&nbsp;&nbsp;0% /sys/fs/cgroup</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.397&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;511M&nbsp;3.7M&nbsp;508M&nbsp;&nbsp;1% /boot/efi</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.737&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;28K&nbsp;&nbsp;38G&nbsp;&nbsp;1% /run/user/108</p><p>&nbsp;Average Precision&nbsp;(AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.886&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;22G&nbsp;&nbsp;16G&nbsp;58% /run/user/1000</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=&nbsp;1 ] = 0.195&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38G&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;38G&nbsp;&nbsp;0% /run/user/1001</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets= 10 ] = 0.646&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS sudo kill 3771</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=&nbsp;&nbsp;all | maxDets=100 ] = 0.662&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│[sudo] password for bdbc201:&nbsp;</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.458&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS&nbsp;</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.778&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;│(base) ➜&nbsp;sTrain-sTest_LiCAM_cas101_MS du -sh</p><p>&nbsp;Average Recall&nbsp;&nbsp;&nbsp;(AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.932</p><p><br></p><p><br></p><p><br></p><p><br></p><p>改用OMP多核实现之后 生成1M个点可以从90s提高到10s</p><p><br></p><p>使用光栅化过程的zbuffer解决了深度遮挡的问题 可以考虑不用光线追踪 但是仍然是串行实现的</p><p><br></p><p>8</p><p><br></p>